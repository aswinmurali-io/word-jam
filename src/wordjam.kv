# The UI definitions of the game is here

#:import com src.common
#:import Popup kivy.uix.popup.Popup
#:import Label kivy.uix.label.Label
#:import Window kivy.core.window.Window

<MainLayout>:

    # Setting up white background for the layout
    canvas.before:

        Color:
            rgba: 1, 1, 1, 1
        Rectangle:
            pos: self.pos
            size: self.size

    BoxLayout:

        size: root.size
        orientation: 'vertical'
        padding: 5 if not com.IS_MOBILE else 30

        BoxLayout:

            size_hint_y: 0.1
            orientation: 'horizontal'

            BoxLayout:

                pos: self.pos
                size: self.size
                padding: 10
                size_hint_x: 2
                orientation: 'horizontal'

                Button:
                    text: "LEVELS"
                    size_hint_y: 0.6

                Button:
                    text: "ABOUT"
                    size_hint_y: 0.6
                    on_touch_down: Popup(title='About', content=Label(text='Word Jam is a crossword game which you can play\nduring your free time. Made using python with the\nhelp of kivy python package. Made by Aswin Murali,\nthe project is hosted online in github\nhttps://github.com/aswinmurali-io/word-jam'), size_hint=(None, None), size=(400, 400)).open()

            BoxLayout:  # Coin Display

                pos: self.pos
                size: self.size
                padding: 10
                size_hint_x: 0.9
                orientation: 'horizontal'

                Image:

                    pos_hint_y: 1.5
                    anim_loop: 0
                    anim_delay: 0.1
                    size_hint: 0.3, 0.3
                    # allow_stretch: True
                    source: com.RES + 'coin.gif'

                Label:

                    id: coins
                    text: '[b]0[/b]'
                    color: com.FONT_COLOR
                    halign: 'left'
                    valign: 'bottom'
                    markup: True
                    text_size: self.size

            BoxLayout:  # For some spacing

            BoxLayout:  # Time Display

                padding: 10
                pos: self.pos
                size: self.size
                size_hint_x: 0.9
                orientation: 'horizontal'

                Image:

                    pos: self.pos
                    size_hint: 0.3, 0.3
                    pos_hint_y: 1.5
                    # allow_stretch: True
                    source: com.RES + 'clock.png'

                Label:

                    markup: True
                    id: time
                    halign: 'left'
                    valign: 'bottom'
                    text_size: self.size
                    color: com.FONT_COLOR
                    text: '[b]00:00:00[/b]'

        BoxLayout:  # Content Canvas

            id: content
            orientation: 'vertical'
            padding: 15 if not com.IS_MOBILE else 30
            on_touch_down: Window.request_keyboard(com._, self, 'text')

            GridLayout:

                id: grid
                cols: 14
                rows: 20

            Image:

                id: load
                source: com.RES + 'banner.png'

        BoxLayout:  # Status bar

            size_hint_y: 0.05

            Label:  # The credit text

                id: status_bar
                markup: True
                padding: 15, 15
                text_size: self.size
                color: com.FONT_COLOR
                text: com.DEFAULT_STATUS_TEXT
                halign: 'left' if not com.IS_MOBILE else 'center'
